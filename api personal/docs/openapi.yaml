openapi: 3.0.3
info:
  title: personalv5-enterprise-api
  version: 1.0.0
  description: Run `npm run openapi:export` to regenerate this file from DB schema.
servers:
  - url: /
paths:
  /health:
    get:
      responses:
        "200":
          description: OK
  /ready:
    get:
      responses:
        "200":
          description: OK
  /api/v1/tables:
    get:
      responses:
        "200":
          description: Tables

  /api/v1/auth/login:
    post:
      tags: [Auth]
      summary: Login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email: { type: string }
                password: { type: string }
      responses:
        "200":
          description: Login OK
        "401":
          description: Credenciales inv√°lidas
  /api/v1/agentes:
    get:
      responses:
        "200": { description: OK }

  /api/v1/agentes/{dni}:
    get:
      parameters:
        - in: path
          name: dni
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }
        "401": { description: No autenticado }
        "403": { description: No autorizado }
        "404": { description: No encontrado }

  /api/v1/agentes/{dni}/historial:
    get:
      parameters:
        - in: path
          name: dni
          required: true
          schema: { type: string }
      responses:
        "200": { description: OK }

  /api/v1/agentes/{dni}/foto:
    get:
      tags:
        - Agentes
      summary: Foto credencial del agente
      parameters:
        - name: dni
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Imagen de credencial
          content:
            image/jpeg:
              schema:
                type: string
                format: binary
            image/png:
              schema:
                type: string
                format: binary
            image/webp:
              schema:
                type: string
                format: binary
        "401":
          description: No autenticado
        "403":
          description: No autorizado
        "404":
          description: Foto no encontrada




components: {}